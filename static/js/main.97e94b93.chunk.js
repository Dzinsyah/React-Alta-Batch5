(this.webpackJsonptraining_batch_5=this.webpackJsonptraining_batch_5||[]).push([[0],{40:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},42:function(e,t,n){e.exports=n(72)},47:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),o=n.n(c),s=(n(47),n(8)),l=n(15),i=n(12),u=n(16),p=n(39),m=n(19),h={listNews:[],isLoading:!0,search:""};var g=n(23),f={full_name:"",email:"",api_key:"",is_login:!1,namaPengguna:"",kataKunci:""};var d=Object(u.c)({news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_LIST_NEWS_SUCCESS":return Object(m.a)({},e,{isLoading:!1,listNews:t.payload});case"ACTIVATE_LOADING":return Object(m.a)({},e,{isLoading:!0});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_INPUT_USER":return Object(m.a)({},e,Object(g.a)({},t.payload.target.name,t.payload.target.value));case"SUCCESS_LOGIN":return Object(m.a)({},e,{full_name:t.payload.full_name,email:t.payload.email,api_key:t.payload.api_key,is_login:!0});default:return e}}}),E=Object(u.d)(d,Object(u.a)(p.a));E.subscribe((function(){return console.warn("cek state store",E.getState())}));var b=E,v=n(10),w=n(11),y=n(14),k=n(13),N=n(2),x=n.n(N),O=n(5),j=n(40),S=n.n(j),_=function(e){return r.a.createElement("section",{className:"topsection"},r.a.createElement("h4",null,e.title),r.a.createElement("form",{action:"#"},r.a.createElement("input",{type:"text",name:"search",id:"search",placeholder:e.placeholder,onChange:e.doSearch,value:e.keyword})))},C={display:"block",width:"100px",float:"left",textAlign:"center"},L=function(e){Object(y.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).changeRouter=function(){var t=Object(O.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.handleRouter){t.next=4;break}e.props.handleRouter(n),t.next=6;break;case 4:return t.next=6,e.props.history.replace("/news-category/"+n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.postSignout=function(){localStorage.removeItem("is_login"),e.props.history.push("/")},e}return Object(w.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("nav",{id:"topnav"},r.a.createElement("div",{style:C},r.a.createElement("img",{src:S.a,className:"App-logo",alt:"logo"})," ",r.a.createElement("b",null,"ReactNews")),r.a.createElement("ul",{id:"topmenu"},r.a.createElement("li",{className:"menu"},r.a.createElement(s.b,{to:"/"},"Home")),r.a.createElement("li",{className:"menu"},r.a.createElement(s.b,{to:"/signup"},"SignUp")),r.a.createElement("li",{className:"menu"},r.a.createElement(s.b,{to:"/signin"},"SignIn")),r.a.createElement("li",{className:"menu"},r.a.createElement(s.b,{to:"/profile"},"Profile")),r.a.createElement("li",{className:"menu"},r.a.createElement(s.b,{onClick:this.postSignout},"SignOut")),r.a.createElement("li",{className:"menu"},r.a.createElement(s.b,{to:"/news",onClick:this.props.getNews?function(){return e.props.getNews()}:null},"News")),r.a.createElement("li",{className:"menu",value:"sport",onClick:function(){return e.changeRouter("sports")}},"Olah Raga"),r.a.createElement("li",{className:"menu",value:"business",onClick:function(){return e.changeRouter("business")}},"Bisnis"),r.a.createElement(_,this.props)))}}]),n}(r.a.Component),I=function(e){Object(y.a)(n,e);var t=Object(k.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"render",value:function(){return console.warn("Cek props masuk",this.props),r.a.createElement(r.a.Fragment,null,r.a.createElement(L,this.props),r.a.createElement("section",{className:"content"},r.a.createElement("h1",{style:{textalign:"center"}},"This Is Home")))}}]),n}(r.a.Component),R=Object(i.b)((function(e){return{haha:e}}))(I),U=n(17),A=n.n(U),P={maxWidth:"180px"},T=function(e){var t=null!==e.url||""!==e.url?e.url:"#",n=null!==e.url||""!==e.url?{target:"_blank"}:"";return r.a.createElement("section",{className:"content"},r.a.createElement("h3",null,r.a.createElement("a",Object.assign({href:t},n),e.title)),r.a.createElement("img",{style:P,src:e.img,alt:"img_teaser",className:"img_teaser"}),r.a.createElement("div",{className:"right"},e.content))},F="44687f6f58184f6385947cb55a41ac62",K="https://newsapi.org/v2/",G=K+"top-headlines?country=id&apiKey="+F,H=function(e){Object(y.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={listNews:[],isLoading:!0,search:""},e.componentDidMount=Object(O.a)(x.a.mark((function t(){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.match.params.category;case 2:n=t.sent,e.getNews(n);case 4:case"end":return t.stop()}}),t)}))),e.getNews=function(){var t=Object(O.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n?G+"&category="+n:G,t.next=3,e.setState({isLoading:!0});case 3:A.a.get(a).then((function(t){e.setState({listNews:t.data.articles,isLoading:!1})})).catch((function(t){e.setState({isLoading:!1})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleInputChange=function(){var t=Object(O.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.target.value,t.next=3,e.setState({search:a});case 3:e.searchNews(a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.searchNews=function(){var t=Object(O.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.length>2)){t.next=13;break}return t.next=3,e.setState({isLoading:!0});case 3:return t.prev=3,t.next=6,A.a.get(K+"everything?q="+n+"&apiKey="+F);case 6:a=t.sent,e.setState({listNews:a.data.articles,isLoading:!1}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),e.handleRequestCategoryNews=function(){var t=Object(O.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.history.replace("/news-category/"+n);case 2:return t.next=4,e.setState({isLoading:!0});case 4:return t.next=6,e.props.match.params.category;case 6:return a=t.sent,t.next=9,A.a.get(G+"&category="+a).then((function(t){e.setState({listNews:t.data.articles,isLoading:!1})})).catch((function(t){e.setState({isLoading:!1})}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(w.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.listNews,a=t.isLoading,c=n.filter((function(e){return null!==e.content&&null!==e.image&&e}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,Object.assign({doSearch:function(t){return e.handleInputChange(t)},handleRouter:function(t){return e.handleRequestCategoryNews(t)},getNews:function(){return e.getNews()},keyword:this.state.search,placeholder:"ketik sesuatu"},this.props)),r.a.createElement("div",{className:"headlineNews"},a?r.a.createElement("div",{style:{textAlign:"center"}},"Masih Loading ya..."):r.a.createElement("div",null,c.map((function(e,t){return r.a.createElement(T,{key:t,title:e.title,img:e.urlToImage,content:e.description,url:e.url})})))))}}]),n}(a.Component),W=function(e){var t=window.location.pathname;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,e),r.a.createElement("section",{className:"content"},r.a.createElement("h4",null,"Not found"),r.a.createElement("p",null,"page: ",r.a.createElement("b",null,t)," you're looking for not found")))},q=Object(i.b)((function(e){return{dataUser:e.user}}))((function(e){return e.dataUser.is_login?r.a.createElement(r.a.Fragment,null,r.a.createElement(L,e),r.a.createElement("section",{className:"content"},r.a.createElement("h1",{style:{textalign:"center"}},"Profile"),r.a.createElement("p",null,r.a.createElement("label",null,"Email:")," ",e.dataUser.email),r.a.createElement("p",null,r.a.createElement("label",null,"Full Name:")," ",e.dataUser.full_name))):r.a.createElement(l.a,{to:{pathname:"/signin",state:{message:"gagal login ya.."}}})})),B=function(e){Object(y.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).postLogin=Object(O.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.doLogin();case 2:e.props.login&&e.props.history.push("/profile");case 4:case"end":return t.stop()}}),t)}))),e}return Object(w.a)(n,[{key:"render",value:function(){var e=this;console.warn("Cek own props",this.props);var t=this.props.location.state?this.props.location.state.message:"tidak ada parameter";return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,this.props),r.a.createElement("section",{className:"content signin"},r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement("h4",null,"SignIn"),r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:"namaPengguna",placeholder:"Username",onChange:function(t){return e.props.changeInput(t)}})),r.a.createElement("div",null,r.a.createElement("input",{type:"password",name:"kataKunci",placeholder:"Password",onChange:function(t){return e.props.changeInput(t)}})),r.a.createElement("button",{style:{height:"30px",width:"50px",backgroundColor:"red",color:"white"},onClick:function(){return e.postLogin()}},"SignIn"),r.a.createElement("button",{style:{height:"30px",width:"50px",backgroundColor:"red",color:"white"},type:"reset"},"Reset"),r.a.createElement("p",{style:{color:"red"}},t))))}}]),n}(a.Component),D={changeInput:function(e){return function(e){return{type:"CHANGE_INPUT_USER",payload:e}}(e)},doLogin:function(e){return function(){var e=Object(O.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={username:n().user.namaPengguna,password:n().user.kataKunci},e.next=3,A.a.post("https://atareact.free.beeceptor.com/auth",a).then(function(){var e=Object(O.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.data.hasOwnProperty("api_key")&&t({type:"SUCCESS_LOGIN",payload:n.data});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}},M=Object(i.b)((function(e){return{namaPengguna:e.user.namaPengguna,kataKunci:e.user.kataKunci,login:e.user.is_login}}),D)(B),J=function(){return r.a.createElement(i.a,{store:b},r.a.createElement(s.a,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",component:R}),r.a.createElement(l.b,{exact:!0,path:"/signin",component:M}),r.a.createElement(l.b,{exact:!0,path:"/profile",component:q}),r.a.createElement(l.b,{exact:!0,path:"/news",component:H}),r.a.createElement(l.b,{path:"/news-category/:category",component:H}),r.a.createElement(l.b,{component:W}))))};n(71);var Q=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.97e94b93.chunk.js.map